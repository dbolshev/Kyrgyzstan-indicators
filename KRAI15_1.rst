#####################################################################################################################################################
KRAI15_1. Договор подписан до 10 календарных дней или после 30 календарных дней после определения победителя при проведении конкурса одноэтапным, двухэтапным, упрошенным методом или методом на понидение цены.
#####################################################################################################################################################

***************
Суть индикатора
***************

Индикатор отслеживает случаи, когда закупающая организация заключает договор с поставщиком (подрядчиком) раньше, чем через 10 календарных дней со дня публикации на веб-портале результата определения победителя.

****
Риск
****

Решение по субъективным основаниям. 


*******************************
Нарушение норм/принципов закона
*******************************

Пункт 2 статьи 32. Закупающая организация со дня публикации информации на веб-портале государственных закупок о произведенном выборе подписывает договор с выигравшим поставщиком (подрядчиком), если только процедуры закупок не были приостановлены по решению независимой межведомственной комиссии в соответствии с главой 4 настоящего Закона, в срок не ранее десяти календарных дней и не позднее тридцати календарных дней.

***********************************
Основание для разработки индикатора
***********************************

Индикатор вводится, так как в системе не реализован контроль за сроками подписания договора между закупающей организацией и поставщиком (подрядчиком).


******************************
Методология расчета индикатора
******************************

Уровень расчета
===============
Индикатор рассчитывается на уровне *лота*.

Источники данных для расчета
============================

Для расчета индикатора используются следующие источники данных:

- API системы государственных закупок в OCDS формате
- Транзакционная переменная :ref:`tv_badDataQuality`

Типы процедур
=============

Индикатор рассчитывается для следующих типов процедур:

- двухэтапный метод;
- одноэтапный метод;
- упрощенный метод;
- метод на понижение цены.


Статусы процедур
----------------

Индикатор рассчитывается для процедур, которые:

- находятся в статусе ``complete``


Частота расчета
===============

Если выполнены все условия для активации расчета индикатор, он рассчитывается один раз.

Качество данных
===============

Если значение переменной :ref:`tv_badDataQuality` для данной процедуры равно ``true``, индикатор принимает значение ``-1`` и расчет его не производится.

Поля для расчета
================

Для расчета индикатора используются следующие поля API модуля системы гос. закупок:

- ``data.awards.date``
- ``data.contracts.dateSigned``
- ``data.contracts.status``
- ``data.contracts.awardIDs``
- ``data.awards.id``
- ``data.awards.relatedLot``
- ``data.lots.id``


Формула расчета
===============

1. В процедуре выбираем все элементы ``data.contracts.status = 'active'``.

2. Выбираем все элементы определения победителей, которые занесены в массив ``data.contracts.awardIDs``.

3. Сравниваем даты ``data.awards.date`` элементов из найденного списка с датой подписания договора ``data.contracts.dateSigned``.

4. Если хоть одна из дат ``data.awards.date`` отличается от ``data.contracts.dateSigned`` на 9 и меньше календарных дней или на 31 или больше календарных дней, индикатор принимает значение ``1`` для лота, который находится по ``data.lots.id = data.awards.relatedLot``.

5. Если все даты ``data.awards.date`` отличаются от ``data.contracts.dateSigned`` на более чем 7 рабочих дней, индикатор принимает значение ``0``.

Факторы, которые влияют на корректное срабатывание индикатора
=============================================================

Индикатор может срабатывать неправильно, так как пока у нас нет источника для верного определения нерабочих дней, связанных с праздниками.
