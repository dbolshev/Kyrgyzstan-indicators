######################################################################################################################################################
KRAI28. Поставщик (подрядчик) никогда не побеждал в конкурсных процедурах других закупающих организаций.
######################################################################################################################################################

***************
Суть индикатора
***************

Индикатор отслеживает случаи, когда поставщики в процедуре никогда не побеждали в конкурсах других закупающих организаций.

****
Риск
****

Риск сговора между представителями закупающей организации и участником конкурса. 


*******************************
Нарушение норм/принципов закона
*******************************

Статья 1, п.1  Целью настоящего Закона является обеспечение экономичности и эффективности использования государственных средств при осуществлении государственных закупок.


***********************************
Основание для разработки индикатора
***********************************

Индикатор вводится так как в системе не отслеживается история побед поставщиков.

******************************
Методология расчета индикатора
******************************

Уровень расчета
===============
Индикатор рассчитывается на уровне *процедуры*.

Источники данных для расчета
============================

Для расчета индикатора используются следующие источники данных:

- API системы государственных закупок в OCDS формате
- Аналитическая таблица :ref:`tbl_PESupplier`


Типы процедур
=============

Индикатор рассчитывается для следующих типов процедур:

- прямого заключения договора.


Статусы процедур
----------------

Индикатор рассчитывается для процедур, которые:

- находятся в любом статусе, кроме ``complete``


Частота расчета
===============

Если выполнены все условия для активации расчета индикатор, он рассчитывается один раз.

Поля для расчета
================

Для расчета индикатора используются следующие поля API модуля системы гос. закупок:

- ``data.parties.id``
- ``data.parties.identifier.scheme``
- ``data.parties.identifier.id``
- ``data.parties.roles``
- ``data.data``

Формула расчета
===============

1. В исследуемой процедуре выбираем всех поставщиков-победителей, таких ``data.parties``, у которых ``data.parties.roles = 'supplier'``.
2. Выбираем их идентификаторы - конкатенация ``data.parties.identifier.scheme`` и ``data.parties.identifier.id``.
3. Выбираем идентификатор закупающей организации (конкатенация ``data.parties.identifier.scheme`` и ``data.parties.identifier.id``), такой, для которого ``data.parties.roles = 'buyer, procuringEntity'``.
4. Выбираем дату оглашения процедуры ``data.data``.
5. Для каждого идентификатора поставщика проводим поиск в аналитической таблице :ref:`tbl_PESupplier` строк, в которых дата меньше даты оглашения нашей процедуры.
6. Если в найденных строках присутствует только один уникальный идентификатор закупающей организации и он совпадает с идентификатором закупающей организации из исследуемой процедуры, индикатор принимает значение ``1``. Расчет заканчивается.
7. Если мы дошли до этого пункта, индикатор принимает значение ``0``. Расчет заканчивается.

Факторы, которые влияют на корректное срабатывание индикатора
=============================================================

Индикатор может срабатывать неправильно, если закупающая организация не отображает на портале все фактически пройденные этапы процедуры закупки.
