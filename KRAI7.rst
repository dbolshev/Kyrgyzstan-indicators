######################################################################################################################################################
KRAI7. Дозакупка работ или услуг методом прямого заключения договора, если общая стоимость не превышает установленного законом процентного порога от ранее проведенного конкурса, но подрядчик и техническая спецификация не сохранены.
######################################################################################################################################################

***************
Суть индикатора
***************

Индикатор отслеживает случаи, когда закупающая организация закупает услуги или работы методом прямого заключения договора, используя обоснование "осуществление дополнительных строительных работ или услуг, не превышающих 5 процентов от стоимости заключенного договора на основании конкурса, связанных с расширением ранее начатых работ либо увеличением объема, а привлечение того же подрядчика обеспечит экономичность и совместимость результатов в отношении качества ранее выполненных работ или услуг".

****
Риск
****

Избегание применения конкурсных процедур с целью заключения договора с "удобным" поставщиком. 

*******************************
Нарушение норм/принципов закона
*******************************

Пункт 4 статьи 21: "2) осуществления дополнительных строительных работ или услуг, не превышающих 5 процентов от стоимости заключенного договора на основании конкурса, связанных с расширением ранее начатых работ либо увеличением объема, а привлечение того же подрядчика обеспечит экономичность и совместимость результатов в отношении качества ранее выполненных работ или услуг"

***********************************
Основание для разработки индикатора
***********************************

Индикатор вводится, так как в системе не реализован контроль соответствия цены, технических требований и соотношений сумм вышеописанных причин.

******************************
Методология расчета индикатора
******************************

Уровень расчета
===============
Индикатор рассчитывается на уровне *процедуры*.

Источники данных для расчета
============================

Для расчета индикатора используются следующие источники данных:

- API системы государственных закупок в OCDS формате
- Транзакционные переменные :ref:`tv_tenderCPVList`, :ref:`tv_badDataQuality`

Типы процедур
=============

Индикатор рассчитывается для следующих типов процедур:

- метод прямого заключения договора.


Статусы процедур
----------------

Индикатор рассчитывается для процедур, которые:

- находятся в статусе ``complete``


Частота расчета
===============

Если выполнены все условия для активации расчета индикатор, он рассчитывается один раз.

Качество данных
===============

Если значение переменной :ref:`tv_badDataQuality` для данной процедуры равно ``true``, индикатор принимает значение ``-1`` и расчет его не производится.

Поля для расчета
================

Для расчета индикатора используются следующие поля API модуля системы гос. закупок:

- ``data.tender.procurementMethodRationale``
- ``data.relatedProcesses.relationship``
- ``data.tender.procurementMethodDetails``
- ``data.relatedProcesses.identifier``
- ``data.parties.id``
- ``data.parties.roles``

Для расчета используются следующие транзакционные переменные:

- :ref:`tv_tenderCPVList`

Формула расчета
===============

1. Выбираем только процедуры, у которых ``data.tender.procurementMethodRationale = 'additionalProcurement25'``.

2. Если в процедуре отсутствует контейнер ``data.relatedProcesses``, индикатор принимает значение ``-1``. Расчет заканчивается.

3. Выбираем предыдущую процедуру открытых торгов: такой номер ``data.relatedProcesses.identifier``, которому соответствует ``data.relatedProcesses.relationship = 'prior'``.

4. Если у найденной процедуры ``data.tender.procurementMethodDetails`` не равно ``oneStage``, ``downgrade`` или ``simplicated``, индикатор принимает значение ``-1``. Расчет заканчивается.

5. Если статус найденной процедуры ``data.tender.current_stage != 'contractSigned'``, индикатор принимает значение ``-1``. Расчет заканчивается.

6. Находим все идентификаторы победителей ``data.parties.id`` нашей и исследуемой процедур такие, у которых ``data.parties.roles = 'supplier'``.

7. Если хоть один идентификатор победителя нашей процедуры не находится среди победителей исследуемой процедуры, индикатор принимает значение ``1``. Расчет заканчивается.

8. Если мы дошли до этого пункта, индикатор принимает значение ``0``.

Факторы, которые влияют на корректное срабатывание индикатора
=============================================================

Индикатор может срабатывать неправильно, если код предмета закупки, указанный закупающей организацией не детализирован достаточно для точной идентификации предмета закупки.
