######################################################################################################################################################
KRAI18. Закупающая организация разместила на веб-портале государственных закупок информацию о закупке методом прямого заключения договора позднее двух рабочих дней до проведения закупки. 
######################################################################################################################################################

***************
Суть индикатора
***************

Индикатор отслеживает случаи, когда закупающая организация проводит процедуру методом прямого заключения договора раньше, чем после 2-х рабочих дней с момента публикации объявления о процедуре на портале.

****
Риск
****

Решение по субъективным основаниям. 


*******************************
Нарушение норм/принципов закона
*******************************

Статья 21. Закупки методом прямого заключения договора. 2. Не позднее двух рабочих дней до проведения закупки методом прямого заключения договора закупающая организация размещает, кроме случаев, указанных в пунктах 6 и 11 части 4 настоящей статьи, на веб-портале государственных закупок информацию.

***********************************
Основание для разработки индикатора
***********************************

Индикатор вводится, так как в системе не реализован контроль сроков проведения процедуры после размещения объявления на портале.

******************************
Методология расчета индикатора
******************************

Уровень расчета
===============
Индикатор рассчитывается на уровне *процедуры*.

Источники данных для расчета
============================

Для расчета индикатора используются следующие источники данных:

- API системы государственных закупок в OCDS формате
- Транзакционная переменная :ref:`tv_badDataQuality`

Типы процедур
=============

Индикатор рассчитывается для следующих типов процедур:

- метод прямого заключения договора.


Статусы процедур
----------------

Индикатор рассчитывается для процедур, которые:

- находятся в статусе ``complete``


Частота расчета
===============

Если выполнены все условия для активации расчета индикатор, он рассчитывается один раз.

Качество данных
===============

Если значение переменной :ref:`tv_badDataQuality` для данной процедуры равно ``true``, индикатор принимает значение ``-1`` и расчет его не производится.

Поля для расчета
================

Для расчета индикатора используются следующие поля API модуля системы гос. закупок:

- ``data.tender.datePublished``
- ``data.awards.status``
- ``data.awards.date``


Формула расчета
===============

1. Находим активный элемент определения победителя ``data.awards.status = 'active'``.

2. Сравниваем дату ``data.awards.date`` из этого элемента с датой объявления процедуры ``data.tender.datePublished``.

3. Если между этими датами меньше 2-х рабочих дней, индикатор принимает значение ``1``. В противном случае индикатор принимает значение ``0``.


Факторы, которые влияют на корректное срабатывание индикатора
=============================================================

Индикатор может срабатывать неправильно, так как пока у нас нет источника для верного определения нерабочих дней, связанных с праздниками.
