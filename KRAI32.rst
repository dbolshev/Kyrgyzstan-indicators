######################################################################################################################################################
KRAI32. Процедура закупки с рассмотренными жалобами. 
######################################################################################################################################################

***************
Суть индикатора
***************

Индикатор отслеживает случаи, когда в процедуре присутствуют рассмотренные жалобы.

****
Риск
****

Закупающая организация практикует закупки с нарушениями.  


*******************************
Нарушение норм/принципов закона
*******************************

Нарушения норм закона на которые указывает сама суть жалобы. 


***********************************
Основание для разработки индикатора
***********************************

Индикатор вводится так как в системе не ведется учет процедур с рассмотренными жалобами.

******************************
Методология расчета индикатора
******************************

Уровень расчета
===============
Индикатор рассчитывается на уровне *процедуры*.

Источники данных для расчета
============================

Для расчета индикатора используются следующие источники данных:

- API системы государственных закупок в OCDS формате
- Транзакционная переменная :ref:`tv_badDataQuality`


Типы процедур
=============

Индикатор рассчитывается для следующих типов процедур:

- одноэтапные процедуры;
- двухэтапные процедуры;
- процедуры упрощенным методом;
- процедуры методом на понижение цены.


Статусы процедур
----------------

Индикатор рассчитывается для процедур, которые:

- находятся в статусе ``contractSigned``
- находятся в статусе ``active`` c ``currentStage = 'evaluationComplete'`` более 30 дней (количество дней вычисляется, как количество дней от текущей даты до самой ранней даты из объектов ``data.awards``).

Частота расчета
===============

Если выполнены все условия для активации расчета индикатор, он рассчитывается один раз.

Качество данных
===============

Если значение переменной :ref:`tv_badDataQuality` для данной процедуры равно ``true``, индикатор принимает значение ``-1`` и расчет его не производится.

Поля для расчета
================

Для расчета индикатора используются следующие поля API модуля системы гос. закупок:

- ``data.complaints.status``

Формула расчета
===============

Если в процедуре есть блок ``data.complaints`` и в нем есть элементы, у которых ``data.complaints.status = 'resolved'``, индикатор принимает значение ``1``. В противном случае индикатор принимает значение ``0``.

