######################################################################################################################################################
KRAI5. Закупка товаров методом прямого заключения договора по причине дозакупки товаров, если общая стоимость не превышает 15% от проведенного конкурса, но процедура конкурса отсутствует. 
######################################################################################################################################################

***************
Суть индикатора
***************

Индикатор отслеживает случаи, когда закупающая организация закупает товары методом прямого заключения договора, используя обоснование "осуществления дополнительного приобретения товаров, не превышающих 15 процентов стоимости договора, заключенного на основании проведенного конкурса при сохранении цены и технических спецификаций".

****
Риск
****

Избегание применения конкурсных процедур с целью заключения договора с "удобным" поставщиком. 

*******************************
Нарушение норм/принципов закона
*******************************

Статья 21. П.4. Закупающая организация вправе самостоятельно провести закупки методом прямого заключения договора в случаях: 1) осуществления дополнительного приобретения товаров, не превышающих 15 процентов стоимости договора, заключенного на основании проведенного конкурса при сохранении цены и технических спецификаций. 

***********************************
Основание для разработки индикатора
***********************************

Индикатор вводится, так как в системе не реализован контроль наличия предыдущей конкурсной процедуры.

******************************
Методология расчета индикатора
******************************

Уровень расчета
===============
Индикатор рассчитывается на уровне *процедуры*.

Источники данных для расчета
============================

Для расчета индикатора используются следующие источники данных:

- API системы государственных закупок в OCDS формате
- Транзакционная переменная :ref:`tv_badDataQuality`

Типы процедур
=============

Индикатор рассчитывается для следующих типов процедур:

- метод прямого заключения договора.


Статусы процедур
----------------

Индикатор рассчитывается для процедур, которые:

- находятся в статусе ``complete``


Частота расчета
===============

Если выполнены все условия для активации расчета индикатор, он рассчитывается один раз.

Качество данных
===============

Если значение переменной :ref:`tv_badDataQuality` для данной процедуры равно ``true``, индикатор принимает значение ``-1`` и расчет его не производится.

Поля для расчета
================

Для расчета индикатора используются следующие поля API модуля системы гос. закупок:

- ``data.tender.procurementMethodRationale``
- ``data.relatedProcesses.relationship``
- ``data.tender.procurementMethodDetails``
- ``data.relatedProcesses.identifier``


Формула расчета
===============

1. Выбираем только процедуры, у которых ``data.tender.procurementMethodRationale = 'additionalProcurement10'``.

2. Если в процедуре отсутствует контейнер ``data.relatedProcesses``, индикатор принимает значение ``1``. Расчет заканчивается.

3. Выбираем предыдущую процедуру открытых торгов: такой номер ``data.relatedProcesses.identifier``, которому соответствует ``data.relatedProcesses.relationship = 'prior'``.

4. Если у найденной процедуры ``data.tender.procurementMethodDetails`` не равен одному из значений: ``oneStage``, ``downgrade`` или ``simplicated``, индикатор принимает значение ``1``. Расчет заканчивается.

5. Если статус найденной процедуры ``data.tender.currentStage != 'contractSigned'``, индикатор принимает значение ``1``. Расчет заканчивается.

6. Если мы дошли до этого пункта, индикатор принимает значение ``0``.

Факторы, которые влияют на корректное срабатывание индикатора
=============================================================

Индикатор может срабатывать неправильно, если код предмета закупки, указанный закупающей организацией не детализирован достаточно для точной идентификации предмета закупки.
