######################################################################################################################################################
KRAI31. Незавершенная процедура - закупающая организация провела конкурс и определила победителя, но процедуру в системе не завершила. (30+ дней) 
######################################################################################################################################################

***************
Суть индикатора
***************

Индикатор отслеживает случаи, когда закупающая организация бросает процедуру после определения победителя.

****
Риск
****

Пренебрежение нормами закона. Процедура не прозрачная. 


*******************************
Нарушение норм/принципов закона
*******************************

Статья 51. П. 2. В течение пяти рабочих дней со дня подписания договора закупающая организация размещает на веб-портале государственных закупок информацию, включающую следующие сведения: 1) наименование и юридический адрес поставщика (подрядчика); 2) дата проведения конкурса; 3) предмет государственных закупок;4) цена за единицу товара;5) общая сумма государственных закупок по договору.


***********************************
Основание для разработки индикатора
***********************************

Индикатор вводится так как закупающие организации часто бросают процедуры после определения победителей.

******************************
Методология расчета индикатора
******************************

Уровень расчета
===============
Индикатор рассчитывается на уровне *процедуры*.

Источники данных для расчета
============================

Для расчета индикатора используются следующие источники данных:

- API системы государственных закупок в OCDS формате
- транзакционная переменная :ref:`tv_badDataQuality`


Типы процедур
=============

Индикатор рассчитывается для следующих типов процедур:

- одноэтапные процедуры;
- двухэтапные процедуры;
- процедуры упрощенным методом;
- процедуры методом на понижение цены.


Статусы процедур
----------------

Индикатор рассчитывается для процедур, которые:

- находятся в статусе ``active`` c ``currentStage = 'evaluationComplete'`` более 30 дней (количество дней вычисляется, как количество дней от текущей даты до самой ранней даты из объектов ``data.awards``);
- находятся в стадии ``complete``.

Частота расчета
===============

Если выполнены все условия для активации расчета индикатор, он рассчитывается один раз.

Поля для расчета
================

Для расчета индикатора используются следующие поля API модуля системы гос. закупок:

- ``data.tender.date``
- ``data.tender.status``

Качество данных
===============

Если значение переменной :ref:`tv_badDataQuality` для данной процедуры равно ``true``, индикатор принимает значение ``-1`` и расчет его не производится.

Формула расчета
===============

Все процедуры, которые находятся в статусе ``evaluationComplete`` более 30 дней - находятся в статусе ``active`` c ``currentStage = 'evaluationComplete'`` более 30 дней (количество дней вычисляется, как количество дней от текущей даты до самой ранней даты из объектов ``data.awards``), получают значение индикатора "1". Процедуры, которые имеют ``data.tender.status = 'complete'`` - получают значение "0".

